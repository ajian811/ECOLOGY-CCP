Ext.namespace("Ext.ux.Wiz");Ext.ux.Wiz.Header=Ext.extend(Ext.BoxComponent,{height:55,region:"north",title:"Wizard",steps:0,stepText:"Step {0} of {1}: {2}",autoEl:{tag:"div",cls:"ext-ux-wiz-Header",children:[{tag:"div",cls:"ext-ux-wiz-Header-title"},{tag:"div",children:[{tag:"div",cls:"ext-ux-wiz-Header-step"},{tag:"div",cls:"ext-ux-wiz-Header-stepIndicator-container"}]}]},titleEl:null,stepEl:null,imageContainer:null,indicators:null,wizard:null,stepTemplate:null,lastVisibleCardIndex:-1,initComponent:function(){Ext.ux.Wiz.Header.superclass.initComponent.call(this);this.wizard=this.initialConfig.wizard;this.initIndicators()},initIndicators:function(){this.indicators=[];var c=null;for(var b=0,a=this.wizard.getVisibleCardsCount();b<a;b++){c=document.createElement("div");c.innerHTML="";c.className="ext-ux-wiz-Header-stepIndicator";this.indicators[b]=new Ext.Element(c)}},updateStep:function(){var c=this.wizard.cards[this.wizard.currentCard];var b=this.wizard.getVisibleCardPosition(c);var f=this.stepTemplate.apply({0:b+1,1:this.wizard.getVisibleCardsCount(),2:c.title});this.stepEl.update(f);var e=this.el.dom.firstChild.nextSibling.lastChild.childNodes;for(var d=0,a=e.length;d<a;d++){Ext.get(e[0]).remove()}for(var d=0,a=this.indicators.length;d<a;d++){this.imageContainer.appendChild(this.indicators[d])}if(this.lastVisibleCardIndex!=-1){this.indicators[this.lastVisibleCardIndex].removeClass("ext-ux-wiz-Header-stepIndicator-active")}this.indicators[b].addClass("ext-ux-wiz-Header-stepIndicator-active");this.lastVisibleCardIndex=b},onRender:function(d,b){Ext.ux.Wiz.Header.superclass.onRender.call(this,d,b);this.stepTemplate=new Ext.Template(this.stepText),this.stepTemplate.compile();var f=this.el.dom.firstChild;var e=f.nextSibling;this.titleEl=new Ext.Element(f);this.stepEl=new Ext.Element(e.firstChild);this.imageContainer=new Ext.Element(e.lastChild);this.titleEl.update(this.title);for(var c=0,a=this.indicators.length;c<a;c++){this.imageContainer.appendChild(this.indicators[c])}}});